<div class="container" style="margin-top: 100px;">

  <div class="col-sm-6" >
    <ng-multiselect-dropdown [placeholder]="'Problems'" [settings]="dropdownSettingsProbles" [data]="all_problems"
      [(ngModel)]="selected_all_problems" (onSelect)="onStatusSelect($event)" (onSelectAll)="onStatusAll($event)"
      (onDeSelect)="onStatusDeSelect($event)" (onDeSelectAll)="onStatusDeSelectAll($event)">
    </ng-multiselect-dropdown>
</div>

  <h1 class="display-4  text-center"> <strong class="float-left"
      style="color: rgb(51, 175, 175);padding-bottom: 10px;padding-left: 10px;">{{contest_name}}
    </strong>
    <button class="btn btn-info float-right" (click)="onGen()"><i class="fa fa-download"></i> Download Result </button>
  </h1>
</div>

<div *ngIf="problem" class="container">
  <table class="table table-striped table-bordered ">
    <thead>
      <tr>
        <th>
          SR
        </th>
        <th>
          {{problem[0]}}
        </th>
        <th>
          {{problem[1]}}
        </th>
        <th>
          {{problem[3]}}
        </th>
        <th class="text-center">
          MatchPercent
        </th>
        <th class="text-center">
          MatchedLine
        </th>
        <th class="text-center">
          CompareCode
        </th>
        <th class="text-center">
          MossLink
        </th>
        <th>
          ClickToMarkCopied
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let person of finalData; let i = index">
        <td>{{i+1}}</td>
        <td>{{person.problemName}}</td>
        <td><a href={{person.profileOne}}>{{person.UserNameOne}}</a></td>
        <td><a href={{person.profileTwo}}>{{person.UserNameTwo}}</a></td>
        <td class="text-center">{{person.MatchPercent}}%</td>
        <td class="text-center">{{person.TotalMatchedLine}}</td>
        <td class="text-center">
          <button class="btn btn-outline-info"
            (click)="onCall(person.SubmissionIdOne,person.SubmissionIdTwo,person.MatchPercentOne,person.MatchPercentTwo)">Compare</button>
          <!-- <button
            (click)="onCall(person.SubmissionIdTwo,person.SubmissionIdOne,person.MatchPercentTwo,person.MatchPercentOne)"
            style="color: rgb(2, 163, 16);">{{person.SubmissionIdTwo}}</button>-->
        </td>
        <td class="text-center"><a href={{person.MossViewLink}} style="color: red;">View</a></td>
        <td *ngIf="!person.copied">
          <button class="btn btn-outline-success" (click)="onToggle(person._id,person.copied,i)">Not Copied</button>
        </td>
        <td *ngIf="person.copied">
          <button class="btn btn-outline-danger" (click)="onToggle(person._id,person.copied,i)">Copied</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>